<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>å®¶å±‹èª¿æŸ»ã‚¢ãƒ—ãƒª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  
  <link rel="manifest" href="./manifest.json" />
  
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="å®¶å±‹èª¿æŸ»">
  <link rel="apple-touch-icon" href="./icons/icon-192.png">
  
  <meta name="theme-color" content="#2563eb">

  <style>
    /* æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ï¼ˆå¤‰æ›´ãªã—ï¼‰ */
    :root { --bg: #f5f5fb; --card: #ffffff; --ink: #111827; --muted: #6b7280; --brand: #2563eb; --brand-soft: #eff6ff; --border: #e5e7eb; --danger: #b91c1c; --danger-soft: #fef2f2; --danger-border: #fecaca; }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; } /* ã‚¿ãƒƒãƒ—æ™‚ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆç„¡åŠ¹åŒ– */
    body { margin: 0; padding: 0; background: var(--bg); font-family: system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Segoe UI", sans-serif; color: var(--ink); overscroll-behavior-y: none; /* ãƒã‚¦ãƒ³ã‚¹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢ */ }
    
    .app { max-width: 480px; margin: 0 auto; min-height: 100vh; display: flex; flex-direction: column; background: var(--bg); padding-bottom: env(safe-area-inset-bottom); }

    /* ãƒ˜ãƒƒãƒ€ãƒ¼ä¿®æ­£: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã¨é‡ãªã‚‰ãªã„ã‚ˆã†ã«paddingèª¿æ•´ */
    .app-header { position: sticky; top: 0; z-index: 10; background: linear-gradient(to bottom, rgba(245, 245, 251, 0.96), rgba(245, 245, 251, 0.9)); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(229, 231, 235, 0.8); padding-top: env(safe-area-inset-top); }
    .app-header-row { display: flex; align-items: center; justify-content: space-between; padding: 10px 12px 6px; position: relative; }
    .app-header-title { font-size: 15px; font-weight: 700; letter-spacing: 0.03em; display: flex; align-items: center; gap: 6px; }
    .app-header-sub { font-size: 11px; color: var(--muted); padding: 0 12px 8px; border-top: 1px solid rgba(229, 231, 235, 0.7); background: rgba(255, 255, 255, 0.6); }
    .icon-btn { border: none; background: transparent; padding: 8px; font-size: 18px; border-radius: 999px; cursor: pointer; color: var(--muted); } /* ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„ã‚ˆã†ã‚µã‚¤ã‚ºèª¿æ•´ */
    .icon-btn:hover { background: rgba(0,0,0,0.05); }

    /* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ */
    .dropdown-menu { position: absolute; top: 50px; right: 10px; width: 200px; background: #ffffff; border: 1px solid var(--border); border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); display: none; flex-direction: column; z-index: 100; overflow: hidden; }
    .dropdown-menu.show { display: flex; }
    .dropdown-item { padding: 14px 16px; font-size: 14px; color: var(--ink); background: transparent; border: none; border-bottom: 1px solid #f3f4f6; text-align: left; cursor: pointer; display: flex; align-items: center; gap: 8px; }
    .dropdown-item:hover { background: #f9fafb; }
    .dropdown-item:last-child { border-bottom: none; }

    /* ã‚¿ãƒ– */
    .app-tabs { display: flex; padding: 6px 6px 0; gap: 6px; flex-wrap: nowrap; overflow-x: auto; background: var(--bg); -ms-overflow-style: none; scrollbar-width: none; }
    .app-tabs::-webkit-scrollbar { display: none; }
    .app-tab-btn { flex: 0 0 auto; white-space: nowrap; padding: 8px 14px; font-size: 13px; border-radius: 999px; border: 1px solid var(--border); background: #ffffff; color: var(--muted); cursor: pointer; }
    .app-tab-btn.active { background: var(--brand); border-color: var(--brand); color: #ffffff; font-weight: 600; box-shadow: 0 4px 10px rgba(37, 99, 235, 0.25); }
    .app-tab-btn.add-btn { color: var(--brand); border-style: dashed; }

    /* ãƒ¡ã‚¤ãƒ³ */
    .app-main { padding: 10px 10px 80px; flex: 1; } /* ä¸‹éƒ¨ä½™ç™½ç¢ºä¿ */
    .card { background: var(--card); border-radius: 12px; box-shadow: 0 2px 8px rgba(15, 23, 42, 0.05); padding: 14px; margin-bottom: 14px; }
    .card-title { font-size: 15px; font-weight: 700; margin: 0 0 12px; display: flex; align-items: center; gap: 6px; }
    .card-body { font-size: 14px; }

    /* ãƒ•ã‚©ãƒ¼ãƒ éƒ¨å“ */
    .field-row { display: flex; flex-direction: column; gap: 6px; margin-bottom: 14px; }
    .field-row.horizontal { flex-direction: row; gap: 8px; }
    .field-label { font-size: 13px; color: var(--muted); font-weight: 500; }
    .field-input { padding: 10px 12px; border-radius: 8px; border: 1px solid var(--border); font-size: 16px; /* iOSã§ã‚ºãƒ¼ãƒ ã•ã‚Œãªã„ã‚µã‚¤ã‚º */ width: 100%; background: #fff; appearance: none; -webkit-appearance: none;}
    .field-input:focus { outline: none; border-color: var(--brand); box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1); }
    textarea.field-input { resize: vertical; min-height: 80px; font-family: inherit; }
    .field-inline { display: flex; gap: 6px; align-items: center; }
    .field-inline input.field-input { flex: 1; }

    /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚°ãƒªãƒƒãƒ‰ */
    .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .menu-card { background: var(--card); border-radius: 12px; box-shadow: 0 2px 8px rgba(15, 23, 42, 0.05); padding: 20px 16px; text-align: center; cursor: pointer; border: 1px solid var(--border); transition: transform 0.1s ease, box-shadow 0.1s ease; }
    .menu-card:active { transform: scale(0.98); background: #f9fafb; }
    .menu-card-icon { font-size: 2.5rem; margin-bottom: 8px; color: var(--brand); }
    .menu-card-title { font-size: 14px; font-weight: 700; color: var(--ink); }
    .menu-card-desc { font-size: 11px; color: var(--muted); margin-top: 4px; }

    .tab-panel { display: none; }
    .tab-panel.active { display: block; animation: fadeIn 0.2s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    /* å†™çœŸã‚¨ãƒªã‚¢ */
    .photo-grid { display: grid; grid-template-columns: 1fr; gap: 10px; }
    .photo-box { border-radius: 10px; border: 1px dashed var(--border); padding: 8px; background: #f9fafb; display: flex; flex-direction: column; gap: 8px; }
    .photo-preview { background: #e5e7eb; border-radius: 8px; height: 140px; display: flex; align-items: center; justify-content: center; font-size: 12px; color: var(--muted); overflow: hidden; position: relative; }
    .photo-preview img { width: 100%; height: 100%; object-fit: cover; }
    .photo-actions { display: flex; gap: 6px; }
    .btn-sm { border-radius: 8px; border: 1px solid var(--border); padding: 8px 0; font-size: 13px; background: #ffffff; cursor: pointer; flex: 1; font-weight: 500; display: flex; align-items: center; justify-content: center; }
    .btn-sm.primary { background: var(--brand); border-color: var(--brand); color: #ffffff; font-weight: 600; }
    .btn-sm.danger { background: var(--danger-soft); border-color: var(--danger-border); color: var(--danger); }

    /* æ¡å¯¸UI */
    .btn-xxs { padding: 10px 14px; font-size: 14px; font-weight: 600; border-radius: 8px; border: 1px solid var(--border); background: #ffffff; cursor: pointer; min-width: 44px; /* ã‚¿ãƒƒãƒ—é ˜åŸŸç¢ºä¿ */ }
    .btn-xxs.primary { background: var(--brand-soft); border-color: var(--brand-soft); color: var(--brand); }
    .btn-xxs.danger { background: var(--danger-soft); border-color: var(--danger-border); color: var(--danger); }
    .measure-grid { display: flex; flex-direction: column; gap: 10px; margin-top: 6px; }
    .measure-item { border: 1px solid var(--border); border-radius: 8px; padding: 10px; background: #f9fafb; }
    .measure-item-main { display: flex; gap: 8px; align-items: center; margin-bottom: 8px; }
    .measure-label { flex: 0 0 90px; font-size: 13px; font-weight: 600; color: var(--muted); }
    .measure-input-wrap { flex: 1; display: flex; align-items: center; gap: 6px; }
    .measure-input-wrap input { flex: 1; padding: 8px; border-radius: 6px; border: 1px solid var(--border); font-size: 16px; text-align: right; }
    .measure-controls { display: flex; gap: 8px; justify-content: flex-end; flex-wrap: wrap; }

    /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
    .modal-bg { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5); z-index: 200; display: flex; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(2px); }
    .modal { background: var(--card); border-radius: 16px; padding: 20px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); width: 100%; max-width: 400px; max-height: 90vh; display: flex; flex-direction: column; }
    .modal h3 { font-size: 18px; margin: 0 0 16px; text-align: center; }
    .checklist { overflow-y: auto; border: 1px solid var(--border); border-radius: 8px; padding: 8px; margin-bottom: 16px; flex: 1; }
    .modal button { border: 1px solid var(--border); border-radius: 999px; padding: 10px 20px; font-size: 14px; background: #ffffff; cursor: pointer; }
    .modal button.primary { background: var(--brand); border-color: var(--brand); color: #ffffff; border: none; }
    .modal .menu-list button { width: 100%; text-align: center; margin-bottom: 8px; padding: 14px; font-size: 15px; font-weight: 600; }

    /* å°åˆ·ã‚¹ã‚¿ã‚¤ãƒ« (å¤‰æ›´ãªã—) */
    @media print {
      @page { size: A4 landscape; margin: 0; }
      body { background: #fff; margin: 0; padding: 0; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
      body > .app, .modal-bg { display: none !important; }
      body > #printSheets { display: block !important; }
      #printSheets .sheet { display: block !important; width: 297mm; height: 210mm; page-break-after: always; overflow: hidden; padding: 10mm; position: relative; box-sizing: border-box; }
      .sheet:last-child { page-break-after: auto; }
      .sheet-body { width: 100%; height: 100%; border: 2px solid #111; padding: 5mm; box-sizing: border-box; display: flex; flex-direction: column; }
      .sheet-title { font-size: 16pt; font-weight: 700; border-bottom: 2px solid #111; margin-bottom: 3mm; padding-bottom: 1mm; height: 10mm; line-height: 10mm; flex-shrink: 0; }
      .sheet[data-sheet="cover"] .sheet-body { border: 4px double #111; justify-content: center; align-items: center; padding: 0; }
      .cover-title { font-size: 42pt; font-weight: 700; margin-bottom: 20mm; border-bottom: 1px solid #111; padding-bottom: 5mm; }
      .cover-customer-name { font-size: 28pt; margin-bottom: 25mm; }
      .cover-info-table { width: 80%; border-collapse: collapse; border: 1px solid #111; }
      .cover-info-table th, .cover-info-table td { border: 1px solid #111; padding: 4mm; font-size: 14pt; }
      .area-grid { display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: minmax(0, 1fr) minmax(0, 1fr); grid-template-areas: "photo1 table" "photo2 memo"; gap: 5mm; flex: 1; overflow: hidden; }
      .photo-cell, .memo-box { border: 1px solid #ccc; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; overflow: hidden; }
      .memo-box { justify-content: flex-start; align-items: flex-start; padding: 3mm; font-size: 10pt; white-space: pre-wrap; border: 1px solid #000; }
      .print-photo { width: 100%; height: 100%; object-fit: contain; }
      .area-content-cell { width: 100%; height: 100%; overflow: hidden; }
      .measure-table { width: 100%; border-collapse: collapse; font-size: 10pt; }
      .measure-table th, .measure-table td { border: 1px solid #000; padding: 1.5mm; }
      .assessment-grid { display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr 1fr; gap: 5mm; height: 100%; flex: 1; }
      .assessment-item { border: 1px solid #000; display: flex; flex-direction: column; height: 100%; overflow: hidden; }
      .assessment-label { background: #eee; border-bottom: 1px solid #000; padding: 2mm; font-weight: bold; font-size: 11pt; flex-shrink: 0; }
      .assessment-content { padding: 3mm; font-size: 10pt; flex-grow: 1; white-space: pre-wrap; }
      .photo-grid-2p { display: grid; grid-template-columns: 1fr 1fr; gap: 10mm; height: 85%; }
    }
  </style>
</head>
<body>
<div class="app">
  <header class="app-header">
    <div class="app-header-row">
      <button class="icon-btn" type="button" id="headerBackBtn">â†</button>
      <div class="app-header-title"><span>ğŸ  å®¶å±‹èª¿æŸ»</span></div>
      <button class="icon-btn" type="button" id="headerMenuBtn">â‹®</button>
      <div id="headerDropdown" class="dropdown-menu">
        <button class="dropdown-item" id="ddSave">ğŸ’¾ ä¸€æ™‚ä¿å­˜</button>
        <button class="dropdown-item" id="ddExport">ğŸ–¨ï¸ å‡ºåŠ›ãƒ¡ãƒ‹ãƒ¥ãƒ¼</button>
        <button class="dropdown-item" id="ddProfile">ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</button>
        <button class="dropdown-item" id="ddReports">ğŸ“ å ±å‘Šæ›¸ä¸€è¦§</button>
        <button class="dropdown-item" id="ddNew">ğŸ“ æ–°è¦ä½œæˆ</button>
      </div>
    </div>
    <div id="currentReportLabel" class="app-header-sub">ç¾åœ¨ã®å ±å‘Šæ›¸ï¼šï¼ˆä¸‹æ›¸ãï¼‰</div>
  </header>

  <nav class="app-tabs" id="tabs"></nav>

  <main class="app-main">
    <section class="tab-panel active" id="menuView">
      <div class="menu-grid">
        <div class="menu-card" id="menuReportsBtn"><div class="menu-card-icon">ğŸ“</div><div class="menu-card-title">å ±å‘Šæ›¸ä¸€è¦§</div><div class="menu-card-desc">ä¿å­˜ã—ãŸå ±å‘Šæ›¸ã‚’é–‹ã</div></div>
        <div class="menu-card" id="menuNewReportBtn"><div class="menu-card-icon">ğŸ“</div><div class="menu-card-title">æ–°è¦å ±å‘Šæ›¸</div><div class="menu-card-desc">æ–°ã—ã„èª¿æŸ»ã‚’ã¯ã˜ã‚ã‚‹</div></div>
        <div class="menu-card" id="menuEditBtn"><div class="menu-card-icon">ğŸ </div><div class="menu-card-title">ä½œæˆç”»é¢ã¸</div><div class="menu-card-desc">ç·¨é›†ä¸­ã®å ±å‘Šæ›¸ã¸</div></div>
        <div class="menu-card" id="menuProfileBtn"><div class="menu-card-icon">ğŸ‘¤</div><div class="menu-card-title">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</div><div class="menu-card-desc">æ‹…å½“è€…æƒ…å ±ã‚’è¨­å®š</div></div>
        <div class="menu-card" id="menuSaveBtn"><div class="menu-card-icon">ğŸ’¾</div><div class="menu-card-title">ä¸€æ™‚ä¿å­˜</div><div class="menu-card-desc">ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜</div></div>
        <div class="menu-card" id="menuExportBtn"><div class="menu-card-icon">ğŸ–¨ï¸</div><div class="menu-card-title">å‡ºåŠ›ãƒ¡ãƒ‹ãƒ¥ãƒ¼</div><div class="menu-card-desc">å°åˆ·ãƒ»PDFå‡ºåŠ›</div></div>
      </div>
    </section>
    
    <section class="tab-panel" id="coverView">
      <article class="card">
        <h2 class="card-title">è¡¨ç´™ï½œãŠå®¢æ§˜æƒ…å ±</h2>
        <div class="card-body">
          <div class="field-row"><label class="field-label">ãŠå®¢æ§˜å</label><input id="custName" class="field-input" type="text" placeholder="ä¾‹ï¼šå±±ç”° å¤ªéƒ"></div>
          <div class="field-row"><label class="field-label">èª¿æŸ»æ—¥</label><input id="surveyDate" class="field-input" type="date"></div>
          <div class="field-row"><label class="field-label">æ‹…å½“è€…</label><input id="staff" class="field-input" type="text"></div>
          <div class="field-row"><label class="field-label">äº‹æ¥­æ‰€</label><input id="office" class="field-input" type="text"></div>
          <div class="field-row"><label class="field-label">é›»è©±</label><input id="tel1" class="field-input" type="tel"></div>
          <div class="field-row"><label class="field-label">ãƒ¡ãƒ¼ãƒ«</label><input id="email" class="field-input" type="email"></div>
        </div>
      </article>
    </section>
    
    <section class="tab-panel" id="areaView">
      <article class="card">
        <h2 class="card-title">ã‚¨ãƒªã‚¢ç·¨é›†</h2>
        <div class="card-body">
          <div class="field-row"><label class="field-label">ã‚¨ãƒªã‚¢å</label><input id="areaName" class="field-input" type="text"></div>
          <div class="field-row horizontal">
             <button id="duplicateAreaBtn" class="btn-sm">ğŸ“ è¤‡è£½</button>
             <button id="deleteAreaBtn" class="btn-sm danger">ğŸ—‘ï¸ å‰Šé™¤</button>
          </div>
          <div class="field-row"><label class="field-label">æ¡å¯¸é …ç›®</label><div id="measureGrid" class="measure-grid"></div></div>
          <div class="field-row" style="margin-top:16px;"><label class="field-label">ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </label>
            <div class="field-inline">
              <input id="customFieldLabel" class="field-input" type="text" placeholder="é …ç›®å">
              <button id="addCustomFieldBtnCm" class="btn-sm primary" style="flex:0 0 auto; padding:0 12px;">ï¼‹cm</button>
              <button id="addCustomFieldBtnNoUnit" class="btn-sm" style="flex:0 0 auto; padding:0 12px;">ï¼‹å˜ä½ãªã—</button>
            </div>
          </div>
          <div class="field-row"><label class="field-label">è‡ªç”±è¨˜å…¥ãƒ»ç‰¹è¨˜äº‹é …</label><textarea id="memo" class="field-input" placeholder="æ®µå·®ã®å½¢çŠ¶ã‚„æ‰‹ã™ã‚Šã®ä½ç½®ãªã©"></textarea></div>
        </div>
      </article>
      <article class="card">
        <h2 class="card-title">ç¾å ´å†™çœŸ</h2>
        <div class="card-body">
           <div class="photo-grid">
             <div class="photo-box">
               <div class="photo-preview"><img id="photoImg1" alt="å†™çœŸ1"></div>
               <input id="photoInput1" type="file" accept="image/*" style="display:none">
               <div class="photo-actions"><button class="btn-sm primary" data-pick="1">ğŸ“· è¿½åŠ </button><button class="btn-sm" data-replace="1">å¤‰æ›´</button><button class="btn-sm" data-del="1">å‰Šé™¤</button></div>
             </div>
             <div class="photo-box">
               <div class="photo-preview"><img id="photoImg2" alt="å†™çœŸ2"></div>
               <input id="photoInput2" type="file" accept="image/*" style="display:none">
               <div class="photo-actions"><button class="btn-sm primary" data-pick="2">ğŸ“· è¿½åŠ </button><button class="btn-sm" data-replace="2">å¤‰æ›´</button><button class="btn-sm" data-del="2">å‰Šé™¤</button></div>
             </div>
           </div>
        </div>
      </article>
    </section>

    <section class="tab-panel" id="assessmentView">
      <article class="card">
        <h2 class="card-title">ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆ</h2>
        <div class="card-body">
          <div class="field-row"><label class="field-label">æ€§æ ¼ãƒ»è¶£å‘³</label><textarea id="asmPersonality" class="field-input"></textarea></div>
          <div class="field-row"><label class="field-label">å®¶æ—ã®å¸Œæœ›</label><textarea id="asmFamily" class="field-input"></textarea></div>
          <div class="field-row"><label class="field-label">å…¥æµ´å‹•ä½œ</label><textarea id="asmBath" class="field-input"></textarea></div>
          <div class="field-row"><label class="field-label">é£Ÿäº‹çŠ¶æ³</label><textarea id="asmMeal" class="field-input"></textarea></div>
          <div class="field-row"><label class="field-label">æ’æ³„çŠ¶æ³</label><textarea id="asmExcretion" class="field-input"></textarea></div>
          <div class="field-row"><label class="field-label">ç§»å‹•èƒ½åŠ›</label><textarea id="asmMobility" class="field-input"></textarea></div>
        </div>
      </article>
    </section>
    
    <section class="tab-panel" id="profileView">
      <article class="card">
        <h2 class="card-title">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š</h2>
        <div class="card-body">
          <div class="field-row"><label class="field-label">æ‹…å½“è€…å</label><input id="profileStaffName" class="field-input" type="text"></div>
          <div class="field-row"><label class="field-label">äº‹æ¥­æ‰€å</label><input id="profileOffice" class="field-input" type="text"></div>
          <div class="field-row"><label class="field-label">é›»è©±</label><input id="profilePhone" class="field-input" type="tel"></div>
          <div class="field-row"><label class="field-label">ãƒ¡ãƒ¼ãƒ«</label><input id="profileEmail" class="field-input" type="email"></div>
        </div>
      </article>
    </section>

    <section class="tab-panel" id="photosView">
      <article class="card">
        <h2 class="card-title">å†™çœŸãƒšãƒ¼ã‚¸</h2>
        <div class="field-row horizontal">
          <button id="duplicatePhotoPageBtn" class="btn-sm">è¤‡è£½</button>
          <button id="deletePhotoPageBtn" class="btn-sm danger">å‰Šé™¤</button>
        </div>
        <div class="card-body">
          <div class="photo-grid">
             <div class="photo-box">
               <div class="photo-preview"><img id="photoPageImg1" alt="P1"></div>
               <input id="p2in1" type="file" accept="image/*" style="display:none">
               <div class="photo-actions"><button class="btn-sm primary" data-pick-p2="1">ğŸ“· è¿½åŠ </button><button class="btn-sm" data-del-p2="1">å‰Šé™¤</button></div>
             </div>
             <div class="photo-box">
               <div class="photo-preview"><img id="photoPageImg2" alt="P2"></div>
               <input id="p2in2" type="file" accept="image/*" style="display:none">
               <div class="photo-actions"><button class="btn-sm primary" data-pick-p2="2">ğŸ“· è¿½åŠ </button><button class="btn-sm" data-del-p2="2">å‰Šé™¤</button></div>
             </div>
          </div>
          <div class="field-row"><label class="field-label">ãƒ¡ãƒ¢</label><textarea id="photoPageMemo" class="field-input"></textarea></div>
        </div>
      </article>
    </section>
  </main>
</div>

<div id="printSheets" class="print-sheets" style="display:none"></div>
<script src="app.js"></script>
<script>
  // Service Workerã®ç™»éŒ²ï¼ˆPWAåŒ–ã«å¿…é ˆï¼‰
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('./service-worker.js')
        .then(reg => console.log('SW registered:', reg))
        .catch(err => console.error('SW failed:', err));
    });
  }
</script>
</body>
</html>
